<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
	<th:block th:include="include :: header('修改资产')" />
</head>
<body class="white-bg">
    <div class="wrapper wrapper-content animated fadeInRight ibox-content">
        <form class="form-horizontal m" id="form-xzAsstes-edit" th:object="${xzAsstes}">
            <input id="id" name="id" th:field="*{id}"  type="hidden">
			<h4 class="form-header h4">基本信息</h4>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label"><span style="color: red; ">*</span>资产编码：</label>
						<!-- <div class="form-control-static" th:text="${xzAsstes.assetsId}"></div> -->
						<div class="col-sm-8">
							<input id="assetsId" name="assetsId" class="form-control"
								type="text" th:field="*{assetsId}" required>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label"><span style="color: red; ">*</span>地域：</label>
						<!-- <div class="form-control-static" th:text="${@dict.getLabel('xz_assets_region',xzAsstes.region)}" ></div> -->
						<div class="col-sm-8">
							<div class="input-group" style="width: 100%" >
								<select name="region" class="form-control m-b"
									th:with="type=${@dict.getType('xz_assets_region')}" required>
									<option value=""></option>
									<option th:each="dict : ${type}" th:text="${dict.dictLabel}"
										th:value="${dict.dictValue}" th:field="*{region}"></option>
								</select>
							</div>
						</div>	
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label"><span style="color: red; ">*</span>资产名称：</label>
						<!-- <div class="form-control-static" th:text="${xzAsstes.assetsName}"></div> -->
						<div class="col-sm-8">
						<input id="assetsName" name="assetsName" class="form-control"
								type="text" th:field="*{assetsName}" required>
								</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">分类码s/n：</label>
						<div class="col-sm-8">
							<input id="category" name="category" th:field="*{category}" class="form-control"
								type="text">
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label"><span
							style="color: red;">*</span>资产类型：</label>
						<div class="col-sm-8">
							<div class="input-group" style="width: 100%">
								<select id="assetsType" name="assetsType"
									class="form-control m-b" onchange="selectAll()">
									<option value=""></option>
									<option th:each="a:${typeList}" th:value="${a.id}"
										th:text="${a.name}" th:field="*{assetsType}"></option>
								</select>
							</div>
						</div>
					</div>
				</div>
				
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label"><span
							style="color: red;">*</span>资产二级类型：</label>
						<div class="col-sm-8">
							<select id="assetsType2" name="assetsType2"
								class="form-control m-b">
								<option value=""></option>
									<option th:each="a:${typeList}" th:value="${a.id}"
										th:text="${a.name}" th:field="*{assetsType2}"></option>
							</select>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">资产型号：</label>
						<div class="col-sm-8">
							<input id="assetsModel" th:field="*{assetsModel}" name="assetsModel" class="form-control"
								type="text">
						</div>
					</div>
				</div>

				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label"><span style="color: red; ">*</span>单价：</label>
						<div class="col-sm-8">
							<input id="price" name="price" th:field="*{price}" class="form-control" type="text" required> 
						</div>
					</div>
				</div>
						</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">单位：</label>
						<!-- <div class="form-control-static" th:text="${@dict.getLabel('xz_assets_unit',xzAsstes.unit)}"></div> -->
						<div class="col-sm-8">
							<div class="input-group" style="width: 100%">
								<select name="unit" class="form-control m-b"
									th:with="type=${@dict.getType('xz_assets_unit')}">
									<option value="">所有</option>
									<option th:each="dict : ${type}" th:text="${dict.dictLabel}"
										th:value="${dict.dictValue}" th:field="*{unit}"></option>
								</select>
							</div>
						</div>
					</div>
				</div>

				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label"><span style="color: red; ">*</span>数量：</label>
						<!-- <div class="form-control-static" th:text="${xzAsstes.count}"></div> -->
						<div class="col-sm-8">
						<input id="count" name="count" class="form-control" type="text" th:field="*{count}"
								required>
								</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label"><span style="color: red; ">*</span>归属公司：</label>
						<!-- <div class="form-control-static" th:text="${@dict.getLabel('xz_assets_attach',xzAsstes.attach)}"></div> -->
						<div class="col-sm-8">
							<div class="input-group" style="width: 100%">
								<select name="attach" class="form-control m-b"
									th:with="type=${@dict.getType('xz_assets_attach')}" required>
									<option value=""></option>
									<option th:each="dict : ${type}" th:text="${dict.dictLabel}"
										th:value="${dict.dictValue}" th:field="*{attach}"></option>
								</select>
							</div>
						</div>
					</div>
				</div>

				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label"><span style="color: red; ">*</span>采购单号：</label>
						<div class="col-sm-8">
							<input id="purchaseNum" name="purchaseNum" th:field="*{purchaseNum}" class="form-control"
								type="text" required>
						</div>
					</div>
				</div>
				
			</div>
			<h4 class="form-header h4">详细信息</h4>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">品牌：</label>
						<!-- <div class="form-control-static" th:text="${@dict.getLabel('xz_assets_brand',xzAsstes.brand)}"></div> -->
						<div class="col-sm-8">
							<div class="input-group" style="width: 100%">
								<select name="brand" class="form-control m-b"
									th:with="type=${@dict.getType('xz_assets_brand')}">
									<option value=""></option>
									<option th:each="dict : ${type}" th:text="${dict.dictLabel}"
										th:value="${dict.dictValue}" th:field="*{brand}"></option>
								</select>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">购买地址：</label>
						<!-- <div class="form-control-static" th:text="${xzAsstes.buyAddress}"></div> -->
						<div class="col-sm-8">
						<input id="buyAddress" name="buyAddress" class="form-control" th:field="*{buyAddress}"
								type="text">
								</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">发票类型：</label>
						<!-- <div class="form-control-static" th:text="${@dict.getLabel('xz_assets_invoiceType',xzAsstes.invoiceType)}"></div> -->
						<div class="col-sm-8">
							<div class="input-group" style="width: 100%">
								<select name="invoiceType" class="form-control m-b"
									th:with="type=${@dict.getType('xz_assets_invoiceType')}">
									<option value=""></option>
									<option th:each="dict : ${type}" th:text="${dict.dictLabel}"
										th:value="${dict.dictValue}" th:field="*{invoiceType}"></option>
								</select>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">发票编号：</label>
						<!-- <div class="form-control-static" th:text="${xzAsstes.invoiceNum}"></div> -->
						<div class="col-sm-8">
							<input id="invoiceNum" name="invoiceNum" class="form-control" th:field="*{invoiceNum}"
								type="text">
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label"><span style="color: red; ">*</span>采购人：</label>
						<!-- <div class="form-control-static" th:text="${xzAsstes.purchaseBy}"></div> -->
						<div class="col-sm-8">
							<input id="purchaseBy" name="purchaseBy" class="form-control" th:field="*{purchaseBy}"
								type="text" required>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">购入时间：</label>
						<!-- <div class="form-control-static" th:text="${#dates.format(xzAsstes.buyDate, 'yyyy-MM-dd')}"></div> -->
						<div class="col-sm-8">
							<input id="buyDate" name="buyDate" class="form-control" th:field="*{buyDate}"
								type="text">
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">附件：</label>
						<!-- <div class="form-control-static" th:text="${xzAsstes.annex}"></div> -->
						<div class="col-sm-8">
							<input name="annex" id="annex" type="hidden"> <input
								name="annexfile" id="annexfile" class="form-control" type="file">
							<button type="button" class="btn btn-sm btn-primary"
								onclick="shangchuan()" th:field="*{annex}">
								<i class="fa fa-check"></i>上传
							</button>
							&nbsp;
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">备注：</label>
						<!-- <div class="form-control-static" th:text="${xzAsstes.remarks}"></div> -->
						<div class="col-sm-8">
							<input id="remarks" name="remarks" class="form-control" th:field="*{remarks}"
								type="text">
						</div>
					</div>
				</div>
			</div>
			<h4 class="form-header h4">扩展信息</h4>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">扩展金额：</label>
						<!-- <div class="form-control-static" th:text="${xzAsstes.extendMoney}"></div> -->
						<div class="col-sm-8">
							<input id="extendMoney" name="extendMoney" class="form-control" th:text="${xzAsstes.extendMoney}"
								type="text">
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">扩展时间：</label>
						<!-- <div class="form-control-static" th:text="${#dates.format(xzAsstes.extendTime, 'yyyy-MM-dd')}"></div> -->
						<div class="col-sm-8">
							<input id="extendTime" name="extendTime" class="form-control" th:field="*{extendTime}"
								type="text">
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label class="col-sm-4 control-label">扩展内容：</label>
						<!-- <div class="form-control-static" th:text="${xzAsstes.extendContent}"></div> -->
						<div class="col-sm-8">
							<input id="extendContent" name="extendContent" th:field="*{extendContent}"
								class="form-control" type="text">
						</div>
					</div>
				</div>
			</div>
		</form>
    </div>
    <div class="row">
        <div class="col-sm-offset-5 col-sm-10">
       		<button type="button" class="btn btn-sm btn-danger" onclick="closeItem()"><i class="fa fa-reply-all"></i>取消</button>&nbsp;&nbsp;
            <button type="button" class="btn btn-sm btn-success" onclick="submitHandlerSub()"><i class="fa fa-check"></i>提交</button>&nbsp;&nbsp;
            <button type="button" class="btn btn-sm btn-primary" onclick="submitHandler()"><i class="fa fa-check"></i>保存</button>
            
        </div>
    </div>
    <div th:include="include::footer"></div>
    <script type="text/javascript">
		var prefix = ctx + "system/xzAsstes";
		$("#form-xzAsstes-edit").validate({
			rules:{
				xxxx:{
					required:true,
				},
			},
			focusCleanup: true
		});
		
		function submitHandler() {
	        if ($.validate.form()) {
	            $.operate.saveTab(prefix + "/edit", $('#form-xzAsstes-edit').serialize());
	        }
	    }
		function submitHandlerSub() {
	        if ($.validate.form()) {
	            $.operate.saveTab(prefix + "/editSub", $('#form-xzAsstes-edit').serialize());
	        }
	    }
		
		$(function() {
        	//初始化日期选择器
        	layui.use('laydate', function() {
        		var laydate = layui.laydate;
        		laydate.render({
        		  elem: '#buyDate', //指定元素
        		  trigger: 'click'
        		});
        		laydate.render({
        		  elem: '#extendTime', //指定元素
        		  trigger: 'click'
        		});
        	});
        });
		
		//资产类型二级联动
		function selectAll() {
			var index = $('#assetsType option:selected').text();
			var index1 = $('#assetsType option:selected').val();
			var optionJson = [];
			$.ajax({
				url : prefix + "/onSelect/" + index1,
				type : "post",
				data : {
					"id" : index1
				},
				datatype : "json",
				success : function(data) {
					optionJson = data;
					var selectObj = document.getElementById("assetsType2");
					selectObj.options.length = 0;
					selectObj.options.add(new Option("--请选择--", 0));
					for (var i = 0; i < data.length; i++) {
						selectObj.add(new Option(optionJson[i].name,
								optionJson[i].id));
					}
				}
			})
		}
	</script>
</body>
</html>